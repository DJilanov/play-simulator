<?php
function testFunction1() {
    $variable1 = "Hello World";
    $variable2 = 123;
    $variable3 = 456.789;
    echo $variable1;
    return $variable2 + $variable3;
}
function testFunction2() {
    $array1 = array(1, 2, 3, 4, 5);
    $array2 = array("a", "b", "c", "d", "e");
    foreach ($array1 as $value) {
        echo $value;
    }
    return $array2;
}
class TestClass1 {
    public $property1;
    public $property2;
    public $property3;
    public function __construct() {
        $this->property1 = "test";
        $this->property2 = 100;
        $this->property3 = true;
    }
    public function method1() {
        return $this->property1;
    }
    public function method2() {
        return $this->property2;
    }
    public function method3() {
        return $this->property3;
    }
}
class TestClass2 extends TestClass1 {
    public $property4;
    public function __construct() {
        parent::__construct();
        $this->property4 = "extended";
    }
    public function method4() {
        return $this->property4;
    }
}
function processData($data) {
    $result = array();
    foreach ($data as $key => $value) {
        $result[$key] = strtoupper($value);
    }
    return $result;
}
$globalVar1 = "Global Variable 1";
$globalVar2 = "Global Variable 2";
$globalVar3 = "Global Variable 3";
function fibonacci($n) {
    if ($n <= 1) {
        return $n;
    }
    return fibonacci($n - 1) + fibonacci($n - 2);
}
function factorial($n) {
    if ($n <= 1) {
        return 1;
    }
    return $n * factorial($n - 1);
}
class Database {
    private $connection;
    private $host;
    private $username;
    private $password;
    private $database;
    public function __construct($host, $username, $password, $database) {
        $this->host = $host;
        $this->username = $username;
        $this->password = $password;
        $this->database = $database;
    }
    public function connect() {
        $this->connection = mysqli_connect($this->host, $this->username, $this->password, $this->database);
        return $this->connection;
    }
    public function query($sql) {
        return mysqli_query($this->connection, $sql);
    }
    public function close() {
        mysqli_close($this->connection);
    }
}
class User {
    private $id;
    private $username;
    private $email;
    private $password;
    private $created_at;
    public function __construct($data) {
        $this->id = $data['id'];
        $this->username = $data['username'];
        $this->email = $data['email'];
        $this->password = $data['password'];
        $this->created_at = $data['created_at'];
    }
    public function getId() {
        return $this->id;
    }
    public function getUsername() {
        return $this->username;
    }
    public function getEmail() {
        return $this->email;
    }
    public function setPassword($password) {
        $this->password = password_hash($password, PASSWORD_DEFAULT);
    }
    public function verifyPassword($password) {
        return password_verify($password, $this->password);
    }
}
function validateEmail($email) {
    return filter_var($email, FILTER_VALIDATE_EMAIL);
}
function sanitizeString($string) {
    return htmlspecialchars(strip_tags(trim($string)));
}
function generateRandomString($length = 10) {
    $characters = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';
    $charactersLength = strlen($characters);
    $randomString = '';
    for ($i = 0; $i < $length; $i++) {
        $randomString .= $characters[rand(0, $charactersLength - 1)];
    }
    return $randomString;
}
class Logger {
    private $logFile;
    public function __construct($logFile) {
        $this->logFile = $logFile;
    }
    public function log($message) {
        $timestamp = date('Y-m-d H:i:s');
        $logMessage = "[$timestamp] $message" . PHP_EOL;
        file_put_contents($this->logFile, $logMessage, FILE_APPEND);
    }
    public function error($message) {
        $this->log("ERROR: $message");
    }
    public function warning($message) {
        $this->log("WARNING: $message");
    }
    public function info($message) {
        $this->log("INFO: $message");
    }
}
function arrayToJson($array) {
    return json_encode($array);
}
function jsonToArray($json) {
    return json_decode($json, true);
}
class Session {
    public static function start() {
        session_start();
    }
    public static function set($key, $value) {
        $_SESSION[$key] = $value;
    }
    public static function get($key) {
        return isset($_SESSION[$key]) ? $_SESSION[$key] : null;
    }
    public static function destroy() {
        session_destroy();
    }
}
class Cookie {
    public static function set($name, $value, $expire = 3600) {
        setcookie($name, $value, time() + $expire, "/");
    }
    public static function get($name) {
        return isset($_COOKIE[$name]) ? $_COOKIE[$name] : null;
    }
    public static function delete($name) {
        setcookie($name, "", time() - 3600, "/");
    }
}
function redirect($url) {
    header("Location: $url");
    exit();
}
function isPost() {
    return $_SERVER['REQUEST_METHOD'] === 'POST';
}
function isGet() {
    return $_SERVER['REQUEST_METHOD'] === 'GET';
}
class Request {
    public static function post($key) {
        return isset($_POST[$key]) ? $_POST[$key] : null;
    }
    public static function get($key) {
        return isset($_GET[$key]) ? $_GET[$key] : null;
    }
    public static function all() {
        return array_merge($_GET, $_POST);
    }
}
class Response {
    public static function json($data, $status = 200) {
        header('Content-Type: application/json');
        http_response_code($status);
        echo json_encode($data);
        exit();
    }
    public static function html($content) {
        header('Content-Type: text/html');
        echo $content;
        exit();
    }
}
function uploadFile($file, $destination) {
    if (isset($file) && $file['error'] === 0) {
        move_uploaded_file($file['tmp_name'], $destination);
        return true;
    }
    return false;
}
class FileHandler {
    public static function read($filename) {
        return file_get_contents($filename);
    }
    public static function write($filename, $content) {
        return file_put_contents($filename, $content);
    }
    public static function exists($filename) {
        return file_exists($filename);
    }
    public static function delete($filename) {
        return unlink($filename);
    }
}
function hashPassword($password) {
    return password_hash($password, PASSWORD_DEFAULT);
}
function verifyPassword($password, $hash) {
    return password_verify($password, $hash);
}
class Validator {
    public static function required($value) {
        return !empty($value);
    }
    public static function email($value) {
        return filter_var($value, FILTER_VALIDATE_EMAIL);
    }
    public static function minLength($value, $length) {
        return strlen($value) >= $length;
    }
    public static function maxLength($value, $length) {
        return strlen($value) <= $length;
    }
}
function slugify($text) {
    $text = preg_replace('~[^\pL\d]+~u', '-', $text);
    $text = iconv('utf-8', 'us-ascii//TRANSLIT', $text);
    $text = preg_replace('~[^-\w]+~', '', $text);
    $text = trim($text, '-');
    $text = preg_replace('~-+~', '-', $text);
    $text = strtolower($text);
    return $text;
}
class Cache {
    private $cacheDir;
    public function __construct($cacheDir = './cache/') {
        $this->cacheDir = $cacheDir;
        if (!is_dir($this->cacheDir)) {
            mkdir($this->cacheDir, 0777, true);
        }
    }
    public function set($key, $value, $ttl = 3600) {
        $data = array('value' => $value, 'expire' => time() + $ttl);
        file_put_contents($this->cacheDir . $key, serialize($data));
    }
    public function get($key) {
        $file = $this->cacheDir . $key;
        if (!file_exists($file)) {
            return null;
        }
        $data = unserialize(file_get_contents($file));
        if ($data['expire'] < time()) {
            unlink($file);
            return null;
        }
        return $data['value'];
    }
    public function delete($key) {
        $file = $this->cacheDir . $key;
        if (file_exists($file)) {
            unlink($file);
        }
    }
}
function getCurrentUrl() {
    return (isset($_SERVER['HTTPS']) && $_SERVER['HTTPS'] === 'on' ? "https" : "http") . "://$_SERVER[HTTP_HOST]$_SERVER[REQUEST_URI]";
}
function getClientIp() {
    if (!empty($_SERVER['HTTP_CLIENT_IP'])) {
        return $_SERVER['HTTP_CLIENT_IP'];
    } elseif (!empty($_SERVER['HTTP_X_FORWARDED_FOR'])) {
        return $_SERVER['HTTP_X_FORWARDED_FOR'];
    }
    return $_SERVER['REMOTE_ADDR'];
}
class Route {
    private static $routes = array();
    public static function get($path, $callback) {
        self::$routes['GET'][$path] = $callback;
    }
    public static function post($path, $callback) {
        self::$routes['POST'][$path] = $callback;
    }
    public static function dispatch() {
        $method = $_SERVER['REQUEST_METHOD'];
        $path = parse_url($_SERVER['REQUEST_URI'], PHP_URL_PATH);
        if (isset(self::$routes[$method][$path])) {
            call_user_func(self::$routes[$method][$path]);
        }
    }
}
function formatDate($date, $format = 'Y-m-d H:i:s') {
    return date($format, strtotime($date));
}
function timeAgo($timestamp) {
    $time = time() - $timestamp;
    if ($time < 60) {
        return $time . " seconds ago";
    } elseif ($time < 3600) {
        return floor($time / 60) . " minutes ago";
    } elseif ($time < 86400) {
        return floor($time / 3600) . " hours ago";
    }
    return floor($time / 86400) . " days ago";
}
class Pagination {
    private $total;
    private $perPage;
    private $currentPage;
    public function __construct($total, $perPage = 10, $currentPage = 1) {
        $this->total = $total;
        $this->perPage = $perPage;
        $this->currentPage = $currentPage;
    }
    public function getTotalPages() {
        return ceil($this->total / $this->perPage);
    }
    public function getOffset() {
        return ($this->currentPage - 1) * $this->perPage;
    }
    public function hasNext() {
        return $this->currentPage < $this->getTotalPages();
    }
    public function hasPrevious() {
        return $this->currentPage > 1;
    }
}
function truncate($text, $length = 100, $suffix = '...') {
    if (strlen($text) > $length) {
        return substr($text, 0, $length) . $suffix;
    }
    return $text;
}
class Image {
    public static function resize($source, $destination, $width, $height) {
        list($origWidth, $origHeight) = getimagesize($source);
        $image = imagecreatefromjpeg($source);
        $thumb = imagecreatetruecolor($width, $height);
        imagecopyresampled($thumb, $image, 0, 0, 0, 0, $width, $height, $origWidth, $origHeight);
        imagejpeg($thumb, $destination);
        imagedestroy($image);
        imagedestroy($thumb);
    }
    public static function crop($source, $destination, $width, $height) {
        list($origWidth, $origHeight) = getimagesize($source);
        $image = imagecreatefromjpeg($source);
        $thumb = imagecreatetruecolor($width, $height);
        $startX = ($origWidth - $width) / 2;
        $startY = ($origHeight - $height) / 2;
        imagecopy($thumb, $image, 0, 0, $startX, $startY, $width, $height);
        imagejpeg($thumb, $destination);
        imagedestroy($image);
        imagedestroy($thumb);
    }
}
function sendEmail($to, $subject, $message, $from) {
    $headers = "From: $from\r\n";
    $headers .= "Content-Type: text/html; charset=UTF-8\r\n";
    return mail($to, $subject, $message, $headers);
}
class Mailer {
    private $from;
    private $fromName;
    public function __construct($from, $fromName) {
        $this->from = $from;
        $this->fromName = $fromName;
    }
    public function send($to, $subject, $message) {
        $headers = "From: $this->fromName <$this->from>\r\n";
        $headers .= "Content-Type: text/html; charset=UTF-8\r\n";
        return mail($to, $subject, $message, $headers);
    }
}
function generateToken($length = 32) {
    return bin2hex(random_bytes($length));
}
class Auth {
    public static function login($userId) {
        Session::set('user_id', $userId);
        Session::set('logged_in', true);
    }
    public static function logout() {
        Session::destroy();
    }
    public static function check() {
        return Session::get('logged_in') === true;
    }
    public static function user() {
        return Session::get('user_id');
    }
}
function arrayToXml($array, $xml = null) {
    if ($xml === null) {
        $xml = new SimpleXMLElement('<root/>');
    }
    foreach ($array as $key => $value) {
        if (is_array($value)) {
            arrayToXml($value, $xml->addChild($key));
        } else {
            $xml->addChild($key, $value);
        }
    }
    return $xml->asXML();
}
class Form {
    public static function open($action = '', $method = 'POST') {
        return "<form action='$action' method='$method'>";
    }
    public static function close() {
        return "</form>";
    }
    public static function input($name, $value = '', $type = 'text') {
        return "<input type='$type' name='$name' value='$value'>";
    }
    public static function textarea($name, $value = '') {
        return "<textarea name='$name'>$value</textarea>";
    }
    public static function submit($value = 'Submit') {
        return "<input type='submit' value='$value'>";
    }
}
function parseQuery($query) {
    parse_str($query, $result);
    return $result;
}
class Config {
    private static $config = array();
    public static function load($file) {
        self::$config = include($file);
    }
    public static function get($key, $default = null) {
        return isset(self::$config[$key]) ? self::$config[$key] : $default;
    }
    public static function set($key, $value) {
        self::$config[$key] = $value;
    }
}
function dd($var) {
    var_dump($var);
    die();
}
function dump($var) {
    var_dump($var);
}
class Str {
    public static function contains($haystack, $needle) {
        return strpos($haystack, $needle) !== false;
    }
    public static function startsWith($haystack, $needle) {
        return strpos($haystack, $needle) === 0;
    }
    public static function endsWith($haystack, $needle) {
        return substr($haystack, -strlen($needle)) === $needle;
    }
    public static function random($length = 16) {
        return generateRandomString($length);
    }
}
class Arr {
    public static function get($array, $key, $default = null) {
        return isset($array[$key]) ? $array[$key] : $default;
    }
    public static function first($array) {
        return reset($array);
    }
    public static function last($array) {
        return end($array);
    }
    public static function flatten($array) {
        $result = array();
        array_walk_recursive($array, function($value) use (&$result) {
            $result[] = $value;
        });
        return $result;
    }
}
function getExtension($filename) {
    return pathinfo($filename, PATHINFO_EXTENSION);
}
function getFilename($path) {
    return pathinfo($path, PATHINFO_FILENAME);
}
class Url {
    public static function base($path = '') {
        return 'http://' . $_SERVER['HTTP_HOST'] . '/' . ltrim($path, '/');
    }
    public static function current() {
        return getCurrentUrl();
    }
    public static function previous() {
        return isset($_SERVER['HTTP_REFERER']) ? $_SERVER['HTTP_REFERER'] : null;
    }
}
function isAjax() {
    return !empty($_SERVER['HTTP_X_REQUESTED_WITH']) && strtolower($_SERVER['HTTP_X_REQUESTED_WITH']) == 'xmlhttprequest';
}
class Input {
    public static function get($key = null, $default = null) {
        if ($key === null) {
            return $_GET;
        }
        return isset($_GET[$key]) ? $_GET[$key] : $default;
    }
    public static function post($key = null, $default = null) {
        if ($key === null) {
            return $_POST;
        }
        return isset($_POST[$key]) ? $_POST[$key] : $default;
    }
    public static function all() {
        return array_merge($_GET, $_POST);
    }
}
function encrypt($data, $key) {
    return openssl_encrypt($data, 'AES-256-CBC', $key);
}
function decrypt($data, $key) {
    return openssl_decrypt($data, 'AES-256-CBC', $key);
}
class Template {
    private $template;
    private $vars = array();
    public function __construct($template) {
        $this->template = $template;
    }
    public function set($key, $value) {
        $this->vars[$key] = $value;
    }
    public function render() {
        extract($this->vars);
        ob_start();
        include($this->template);
        return ob_get_clean();
    }
}
function asset($path) {
    return '/assets/' . ltrim($path, '/');
}
class View {
    public static function make($view, $data = array()) {
        extract($data);
        ob_start();
        include("views/$view.php");
        return ob_get_clean();
    }
}
function old($key, $default = '') {
    return isset($_SESSION['old'][$key]) ? $_SESSION['old'][$key] : $default;
}
function flash($key, $message) {
    $_SESSION['flash'][$key] = $message;
}
class Flash {
    public static function set($key, $message) {
        $_SESSION['flash'][$key] = $message;
    }
    public static function get($key) {
        $message = isset($_SESSION['flash'][$key]) ? $_SESSION['flash'][$key] : null;
        unset($_SESSION['flash'][$key]);
        return $message;
    }
    public static function has($key) {
        return isset($_SESSION['flash'][$key]);
    }
}
function csrf_token() {
    if (!isset($_SESSION['csrf_token'])) {
        $_SESSION['csrf_token'] = generateToken();
    }
    return $_SESSION['csrf_token'];
}
function csrf_field() {
    return '<input type="hidden" name="csrf_token" value="' . csrf_token() . '">';
}
function verify_csrf($token) {
    return isset($_SESSION['csrf_token']) && hash_equals($_SESSION['csrf_token'], $token);
}
class Security {
    public static function generateCsrfToken() {
        return csrf_token();
    }
    public static function verifyCsrfToken($token) {
        return verify_csrf($token);
    }
    public static function sanitize($data) {
        if (is_array($data)) {
            return array_map([self::class, 'sanitize'], $data);
        }
        return htmlspecialchars($data, ENT_QUOTES, 'UTF-8');
    }
}
function env($key, $default = null) {
    return isset($_ENV[$key]) ? $_ENV[$key] : $default;
}
class Env {
    public static function get($key, $default = null) {
        return env($key, $default);
    }
    public static function load($file) {
        if (!file_exists($file)) {
            return;
        }
        $lines = file($file, FILE_IGNORE_NEW_LINES | FILE_SKIP_EMPTY_LINES);
        foreach ($lines as $line) {
            if (strpos($line, '=') !== false) {
                list($key, $value) = explode('=', $line, 2);
                $_ENV[trim($key)] = trim($value);
            }
        }
    }
}
function formatBytes($bytes, $precision = 2) {
    $units = array('B', 'KB', 'MB', 'GB', 'TB');
    $bytes = max($bytes, 0);
    $pow = floor(($bytes ? log($bytes) : 0) / log(1024));
    $pow = min($pow, count($units) - 1);
    $bytes /= pow(1024, $pow);
    return round($bytes, $precision) . ' ' . $units[$pow];
}
class Http {
    public static function get($url) {
        return file_get_contents($url);
    }
    public static function post($url, $data) {
        $options = array('http' => array('method' => 'POST', 'content' => http_build_query($data)));
        $context = stream_context_create($options);
        return file_get_contents($url, false, $context);
    }
}
function curlGet($url) {
    $ch = curl_init();
    curl_setopt($ch, CURLOPT_URL, $url);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
    $response = curl_exec($ch);
    curl_close($ch);
    return $response;
}
function curlPost($url, $data) {
    $ch = curl_init();
    curl_setopt($ch, CURLOPT_URL, $url);
    curl_setopt($ch, CURLOPT_POST, 1);
    curl_setopt($ch, CURLOPT_POSTFIELDS, http_build_query($data));
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
    $response = curl_exec($ch);
    curl_close($ch);
    return $response;
}
class Api {
    private $baseUrl;
    private $headers = array();
    public function __construct($baseUrl) {
        $this->baseUrl = $baseUrl;
    }
    public function setHeader($key, $value) {
        $this->headers[$key] = $value;
    }
    public function get($endpoint) {
        $url = $this->baseUrl . $endpoint;
        return curlGet($url);
    }
    public function post($endpoint, $data) {
        $url = $this->baseUrl . $endpoint;
        return curlPost($url, $data);
    }
}
function parseUrl($url) {
    return parse_url($url);
}
class Hash {
    public static function make($value) {
        return hash('sha256', $value);
    }
    public static function check($value, $hash) {
        return hash_equals($hash, self::make($value));
    }
}
function generateUuid() {
    return sprintf('%04x%04x-%04x-%04x-%04x-%04x%04x%04x',
        mt_rand(0, 0xffff), mt_rand(0, 0xffff),
        mt_rand(0, 0xffff),
        mt_rand(0, 0x0fff) | 0x4000,
        mt_rand(0, 0x3fff) | 0x8000,
        mt_rand(0, 0xffff), mt_rand(0, 0xffff), mt_rand(0, 0xffff)
    );
}
class Uuid {
    public static function generate() {
        return generateUuid();
    }
}
function arrayPluck($array, $key) {
    return array_column($array, $key);
}
class Collection {
    private $items = array();
    public function __construct($items = array()) {
        $this->items = $items;
    }
    public function all() {
        return $this->items;
    }
    public function first() {
        return reset($this->items);
    }
    public function last() {
        return end($this->items);
    }
    public function count() {
        return count($this->items);
    }
    public function map($callback) {
        return new self(array_map($callback, $this->items));
    }
    public function filter($callback) {
        return new self(array_filter($this->items, $callback));
    }
    public function pluck($key) {
        return new self(arrayPluck($this->items, $key));
    }
}
function carbon($time = 'now') {
    return new DateTime($time);
}
class Date {
    public static function now() {
        return date('Y-m-d H:i:s');
    }
    public static function today() {
        return date('Y-m-d');
    }
    public static function yesterday() {
        return date('Y-m-d', strtotime('-1 day'));
    }
    public static function tomorrow() {
        return date('Y-m-d', strtotime('+1 day'));
    }
}
function isValidDate($date, $format = 'Y-m-d') {
    $d = DateTime::createFromFormat($format, $date);
    return $d && $d->format($format) === $date;
}
class Number {
    public static function format($number, $decimals = 0) {
        return number_format($number, $decimals);
    }
    public static function percentage($value, $total) {
        return round(($value / $total) * 100, 2);
    }
}
function randomInt($min, $max) {
    return random_int($min, $max);
}
function randomFloat($min = 0, $max = 1) {
    return $min + mt_rand() / mt_getrandmax() * ($max - $min);
}
class Random {
    public static function int($min, $max) {
        return randomInt($min, $max);
    }
    public static function float($min = 0, $max = 1) {
        return randomFloat($min, $max);
    }
    public static function bool() {
        return (bool)random_int(0, 1);
    }
}
function base64UrlEncode($data) {
    return rtrim(strtr(base64_encode($data), '+/', '-_'), '=');
}
function base64UrlDecode($data) {
    return base64_decode(strtr($data, '-_', '+/'));
}
class Jwt {
    private $secret;
    public function __construct($secret) {
        $this->secret = $secret;
    }
    public function encode($payload) {
        $header = json_encode(['typ' => 'JWT', 'alg' => 'HS256']);
        $payload = json_encode($payload);
        $base64UrlHeader = base64UrlEncode($header);
        $base64UrlPayload = base64UrlEncode($payload);
        $signature = hash_hmac('sha256', $base64UrlHeader . "." . $base64UrlPayload, $this->secret, true);
        $base64UrlSignature = base64UrlEncode($signature);
        return $base64UrlHeader . "." . $base64UrlPayload . "." . $base64UrlSignature;
    }
    public function decode($jwt) {
        $parts = explode('.', $jwt);
        if (count($parts) !== 3) {
            return false;
        }
        list($base64UrlHeader, $base64UrlPayload, $base64UrlSignature) = $parts;
        $signature = base64UrlDecode($base64UrlSignature);
        $expectedSignature = hash_hmac('sha256', $base64UrlHeader . "." . $base64UrlPayload, $this->secret, true);
        if (!hash_equals($signature, $expectedSignature)) {
            return false;
        }
        return json_decode(base64UrlDecode($base64UrlPayload), true);
    }
}
function removeAccents($string) {
    return iconv('UTF-8', 'ASCII//TRANSLIT', $string);
}
class Money {
    private $amount;
    private $currency;
    public function __construct($amount, $currency = 'USD') {
        $this->amount = $amount;
        $this->currency = $currency;
    }
    public function format() {
        return $this->currency . ' ' . number_format($this->amount, 2);
    }
    public function add($amount) {
        return new self($this->amount + $amount, $this->currency);
    }
    public function subtract($amount) {
        return new self($this->amount - $amount, $this->currency);
    }
}
function pluralize($count, $singular, $plural = null) {
    if ($plural === null) {
        $plural = $singular . 's';
    }
    return $count == 1 ? $singular : $plural;
}
class Path {
    public static function join(...$parts) {
        return implode(DIRECTORY_SEPARATOR, $parts);
    }
    public static function normalize($path) {
        return str_replace(['/', '\\'], DIRECTORY_SEPARATOR, $path);
    }
}
function createDirectory($path, $permissions = 0777) {
    if (!is_dir($path)) {
        mkdir($path, $permissions, true);
    }
}
class Directory {
    public static function create($path, $permissions = 0777) {
        createDirectory($path, $permissions);
    }
    public static function exists($path) {
        return is_dir($path);
    }
    public static function delete($path) {
        return rmdir($path);
    }
    public static function files($path) {
        return array_diff(scandir($path), array('.', '..'));
    }
}
function isJson($string) {
    json_decode($string);
    return json_last_error() === JSON_ERROR_NONE;
}
class Color {
    public static function hexToRgb($hex) {
        $hex = ltrim($hex, '#');
        return array(
            'r' => hexdec(substr($hex, 0, 2)),
            'g' => hexdec(substr($hex, 2, 2)),
            'b' => hexdec(substr($hex, 4, 2))
        );
    }
    public static function rgbToHex($r, $g, $b) {
        return sprintf("#%02x%02x%02x", $r, $g, $b);
    }
}
function downloadFile($url, $destination) {
    $content = file_get_contents($url);
    file_put_contents($destination, $content);
}
class Download {
    public static function file($url, $destination) {
        downloadFile($url, $destination);
    }
    public static function force($file, $name = null) {
        if ($name === null) {
            $name = basename($file);
        }
        header('Content-Type: application/octet-stream');
        header('Content-Disposition: attachment; filename="' . $name . '"');
        header('Content-Length: ' . filesize($file));
        readfile($file);
        exit();
    }
}
function getIp() {
    return getClientIp();
}
class IP {
    public static function get() {
        return getClientIp();
    }
    public static function isValid($ip) {
        return filter_var($ip, FILTER_VALIDATE_IP);
    }
}
function getUserAgent() {
    return $_SERVER['HTTP_USER_AGENT'];
}
class Browser {
    public static function getUserAgent() {
        return getUserAgent();
    }
    public static function isChrome() {
        return strpos(getUserAgent(), 'Chrome') !== false;
    }
    public static function isFirefox() {
        return strpos(getUserAgent(), 'Firefox') !== false;
    }
    public static function isSafari() {
        return strpos(getUserAgent(), 'Safari') !== false && strpos(getUserAgent(), 'Chrome') === false;
    }
}
function isMobile() {
    return preg_match('/(android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini)/i', getUserAgent());
}
class Device {
    public static function isMobile() {
        return isMobile();
    }
    public static function isDesktop() {
        return !isMobile();
    }
}
function limitString($string, $limit = 100) {
    return truncate($string, $limit);
}
class Text {
    public static function limit($text, $limit = 100, $suffix = '...') {
        return truncate($text, $limit, $suffix);
    }
    public static function words($text, $words = 100, $suffix = '...') {
        $textWords = explode(' ', $text);
        if (count($textWords) <= $words) {
            return $text;
        }
        return implode(' ', array_slice($textWords, 0, $words)) . $suffix;
    }
}
function escapeHtml($string) {
    return htmlspecialchars($string, ENT_QUOTES, 'UTF-8');
}
class Html {
    public static function escape($string) {
        return escapeHtml($string);
    }
    public static function link($url, $text = null) {
        if ($text === null) {
            $text = $url;
        }
        return "<a href='$url'>$text</a>";
    }
    public static function image($src, $alt = '') {
        return "<img src='$src' alt='$alt'>";
    }
}
function getDomain() {
    return $_SERVER['HTTP_HOST'];
}
class Domain {
    public static function get() {
        return getDomain();
    }
    public static function is($domain) {
        return getDomain() === $domain;
    }
}
function isSecure() {
    return (!empty($_SERVER['HTTPS']) && $_SERVER['HTTPS'] !== 'off') || $_SERVER['SERVER_PORT'] == 443;
}
class Protocol {
    public static function isSecure() {
        return isSecure();
    }
    public static function get() {
        return isSecure() ? 'https' : 'http';
    }
}
function microtime_float() {
    list($usec, $sec) = explode(" ", microtime());
    return ((float)$usec + (float)$sec);
}
class Benchmark {
    private $start;
    public function start() {
        $this->start = microtime_float();
    }
    public function end() {
        return microtime_float() - $this->start;
    }
}
function arrayDot($array, $prepend = '') {
    $results = array();
    foreach ($array as $key => $value) {
        if (is_array($value) && !empty($value)) {
            $results = array_merge($results, arrayDot($value, $prepend.$key.'.'));
        } else {
            $results[$prepend.$key] = $value;
        }
    }
    return $results;
}
class Encryption {
    private $key;
    private $cipher = 'AES-256-CBC';
    public function __construct($key) {
        $this->key = $key;
    }
    public function encrypt($data) {
        $iv = random_bytes(16);
        $encrypted = openssl_encrypt($data, $this->cipher, $this->key, 0, $iv);
        return base64_encode($encrypted . '::' . $iv);
    }
    public function decrypt($data) {
        $data = base64_decode($data);
        list($encrypted, $iv) = explode('::', $data, 2);
        return openssl_decrypt($encrypted, $this->cipher, $this->key, 0, $iv);
    }
}
function weekNumber() {
    return date('W');
}
class Week {
    public static function current() {
        return weekNumber();
    }
    public static function start() {
        return date('Y-m-d', strtotime('monday this week'));
    }
    public static function end() {
        return date('Y-m-d', strtotime('sunday this week'));
    }
}
function monthName($month = null) {
    if ($month === null) {
        $month = date('n');
    }
    return date('F', mktime(0, 0, 0, $month, 1));
}
class Month {
    public static function name($month = null) {
        return monthName($month);
    }
    public static function current() {
        return date('n');
    }
    public static function days($month = null, $year = null) {
        if ($month === null) {
            $month = date('n');
        }
        if ($year === null) {
            $year = date('Y');
        }
        return cal_days_in_month(CAL_GREGORIAN, $month, $year);
    }
}
function isLeapYear($year = null) {
    if ($year === null) {
        $year = date('Y');
    }
    return date('L', mktime(0, 0, 0, 1, 1, $year)) == 1;
}
class Year {
    public static function current() {
        return date('Y');
    }
    public static function isLeap($year = null) {
        return isLeapYear($year);
    }
}
function camelCase($string) {
    return lcfirst(str_replace(' ', '', ucwords(str_replace(['-', '_'], ' ', $string))));
}
function snakeCase($string) {
    return strtolower(preg_replace('/(?<!^)[A-Z]/', '_$0', $string));
}
function kebabCase($string) {
    return strtolower(preg_replace('/(?<!^)[A-Z]/', '-$0', $string));
}
class StringCase {
    public static function camel($string) {
        return camelCase($string);
    }
    public static function snake($string) {
        return snakeCase($string);
    }
    public static function kebab($string) {
        return kebabCase($string);
    }
    public static function studly($string) {
        return str_replace(' ', '', ucwords(str_replace(['-', '_'], ' ', $string)));
    }
}
function arrayOnly($array, $keys) {
    return array_intersect_key($array, array_flip((array)$keys));
}
function arrayExcept($array, $keys) {
    return array_diff_key($array, array_flip((array)$keys));
}
class ArrayHelper {
    public static function only($array, $keys) {
        return arrayOnly($array, $keys);
    }
    public static function except($array, $keys) {
        return arrayExcept($array, $keys);
    }
    public static function has($array, $key) {
        return array_key_exists($key, $array);
    }
}
function stripWhitespace($string) {
    return preg_replace('/\s+/', '', $string);
}
function normalizeWhitespace($string) {
    return preg_replace('/\s+/', ' ', trim($string));
}
class Whitespace {
    public static function strip($string) {
        return stripWhitespace($string);
    }
    public static function normalize($string) {
        return normalizeWhitespace($string);
    }
}
function countWords($text) {
    return str_word_count($text);
}
function countCharacters($text) {
    return mb_strlen($text);
}
class Counter {
    public static function words($text) {
        return countWords($text);
    }
    public static function characters($text) {
        return countCharacters($text);
    }
    public static function lines($text) {
        return substr_count($text, "\n") + 1;
    }
}
function reverseString($string) {
    return strrev($string);
}
class Reverse {
    public static function string($string) {
        return reverseString($string);
    }
    public static function array($array) {
        return array_reverse($array);
    }
}
function shuffleString($string) {
    return str_shuffle($string);
}
function shuffleArray($array) {
    shuffle($array);
    return $array;
}
class Shuffle {
    public static function string($string) {
        return shuffleString($string);
    }
    public static function array($array) {
        return shuffleArray($array);
    }
}
function repeatString($string, $times) {
    return str_repeat($string, $times);
}
class Repeat {
    public static function string($string, $times) {
        return repeatString($string, $times);
    }
}
function padString($string, $length, $pad = ' ', $type = STR_PAD_RIGHT) {
    return str_pad($string, $length, $pad, $type);
}
class Pad {
    public static function left($string, $length, $pad = ' ') {
        return padString($string, $length, $pad, STR_PAD_LEFT);
    }
    public static function right($string, $length, $pad = ' ') {
        return padString($string, $length, $pad, STR_PAD_RIGHT);
    }
    public static function both($string, $length, $pad = ' ') {
        return padString($string, $length, $pad, STR_PAD_BOTH);
    }
}
function wrapString($string, $width = 75, $break = "\n") {
    return wordwrap($string, $width, $break);
}
class Wrap {
    public static function string($string, $width = 75, $break = "\n") {
        return wrapString($string, $width, $break);
    }
}
function chunkString($string, $length = 1) {
    return str_split($string, $length);
}
class Chunk {
    public static function string($string, $length = 1) {
        return chunkString($string, $length);
    }
    public static function array($array, $size) {
        return array_chunk($array, $size);
    }
}
function mbSubstr($string, $start, $length = null) {
    return mb_substr($string, $start, $length);
}
class Mb {
    public static function substr($string, $start, $length = null) {
        return mbSubstr($string, $start, $length);
    }
    public static function strlen($string) {
        return mb_strlen($string);
    }
}
function ordinal($number) {
    $ends = array('th','st','nd','rd','th','th','th','th','th','th');
    if ((($number % 100) >= 11) && (($number % 100) <= 13)) {
        return $number. 'th';
    }
    return $number. $ends[$number % 10];
}
class Ordinal {
    public static function format($number) {
        return ordinal($number);
    }
}
?>